{% load static i18n %}
{% if perms.asset.change_asset %}
    <button
        class="cursor-pointer px-2 py-1 text-sm bg-primary-300 text-primary-600 rounded-sm w-7 h-7 flex items-center justify-center hover:bg-primary-600 hover:text-white transition duration-300"
        data-toggle="oh-modal-toggle" data-target="#genericModal"
        hx-get="{{ instance.get_update_url }}?{% if asset_under == 'asset_filter' %}asset_under=asset_filter&{% endif %}{{ pg }}"
        hx-target="#genericModalBody" title="{% trans 'Edit' %}">
        <i class="fa-solid fa-pen-to-square"></i>
    </button>
{% endif %}
{% if perms.asset.add_asset %}
    <button
        class="cursor-pointer px-2 py-1 text-sm bg-primary-300 text-primary-600 rounded-sm w-7 h-7 flex items-center justify-center hover:bg-primary-600 hover:text-white transition duration-300"
        data-toggle="oh-modal-toggle" data-target="#genericModal" hx-get="{% url 'duplicate-asset' instance.id %}?{{pg}}"
        hx-target="#genericModalBody" title="{% trans 'Duplicate' %}">
        <i class="fa-solid fa-clone"></i>
    </button>
{% endif %}
{% if asset.assetassignment_set.all %}
    <button
        class="cursor-pointer px-2 py-1 text-sm bg-primary-300 text-primary-600 rounded-sm w-7 h-7 flex items-center justify-center hover:bg-primary-600 hover:text-white transition duration-300"
        data-toggle="oh-modal-toggle" data-target="#dynamicCreateModal"
        hx-get="{% url 'add-asset-report' asset.id %}?asset_list=true" hx-target="#dynamicCreateModalTarget"
        id="oh-btn-asset-update-modal" title="{% trans 'Report' %}">
        <i class="fa-solid fa-file-lines"></i>
    </button>
{% else %}
    <button disabled
        class="cursor-not-allowed px-2 py-1 text-sm bg-primary-300 text-primary-600 rounded-sm w-7 h-7 flex items-center justify-center hover:bg-primary-600 hover:text-white transition duration-300"
        id="oh-btn-asset-update-modal" title="{% trans 'Report' %}">
        <i class="fa-solid fa-file-lines"></i>
    </button>
{% endif %}
{% if perms.asset.delete_asset %}
    <form hx-confirm="{% trans 'Do you want to delete this asset?' %}"
        hx-post="{{instance.get_delete_url}}?{% if asset_under == 'asset_filter' %}asset_under=asset_filter&{% endif %}{{ request.GET.urlencode }}"
        hx-target="#assetCategory{{ instance.asset_category_id.id }}" onclick="event.stopPropagation()" style="width:100%">
        {% csrf_token %}
        <button
            class="cursor-pointer px-2 py-1 text-sm bg-primary-300 text-primary-600 rounded-sm w-7 h-7 flex items-center justify-center hover:bg-primary-600 hover:text-white transition duration-300"
            title="{% trans 'Delete' %}">
            <i class="fa-solid fa-trash"></i>
        </button>
    </form>
{% endif %}
