<style>
    .oh-info {
      top: 2px !important;
    }
  </style>
  {% extends 'index.html' %} {% block content %} {% load static i18n horillafilters mathfilters  %}
  <div class="grid grid-cols-1 xl:grid-cols-3 md:grid-cols-2 gap-4 mb-4">
    <div class="bg-white p-6 rounded-md shadow-card relative">
      <div class="flex items-center gap-4">
        <div class="bg-[#1cba5121] p-3 rounded-md">
          <img
            src="{% static 'horilla_theme/assets/img/icons/asset.svg' %}"
            width="20"
          />
          <!-- <i class="fas fa-users text-primary-600"></i> -->
        </div>
        <div>
          <p class="text-sm">{% trans "Assets" %}</p>
          <div class="flex items-center gap-2">
            <p class="text-xl font-bold text-secondary-900">{{assets|length}}</p>
            <!-- <p class="text-success text-sm">+23%</p> -->
          </div>
        </div>
      </div>
      <!-- <button class="w-3 h-3 absolute right-6 top-6">
          <img src="/assets/icons/right-arrow.svg" alt="" class="rotate-45">
        </button> -->
    </div>
    <div class="bg-white p-6 rounded-md shadow-card relative" onclick = 'localStorage.setItem("activeTabAsset", "#tab_1");
    window.location.href="/asset/asset-request-allocation-view/?asset_request_status=Requested";'
    id="asset_request_view">
      <div class="flex items-center gap-4">
        <div class="bg-[#b71db01f] p-3 rounded-md">
          <img  src="{% static 'horilla_theme/assets/img/icons/asset-request.svg' %}" width="20" />
        </div>
        <div>
          <p class="text-sm">{% trans "Asset request" %}</p>
          <div class="flex items-center gap-2">
            <p class="text-xl font-bold text-secondary-900">
                {{asset_requests|length}}
            </p>
            <!-- <p class="text-success text-sm">+23%</p> -->
          </div>
        </div>
      </div>
      <!-- <button class="w-3 h-3 absolute right-6 top-6">
          <img src="/assets/icons/right-arrow.svg" alt="" class="rotate-45">
        </button> -->
    </div>
    <div class="bg-white p-6 rounded-md shadow-card relative" onclick=" window.location.href = `{%url 'asset-category-view' %}?dashboard=true`"
    id="hired_candidate">
      <div class="flex items-center gap-4">
        <div class="bg-[#ea7f2f2e] p-3 rounded-md">
          <img src="{% static 'horilla_theme/assets/img/icons/asset-use.svg' %}" width="20" />
        </div>
        <div>
          <p class="text-sm">{% trans "Assets in use" %}</p>
          <div class="flex items-center gap-2">
            <p class="text-xl font-bold text-secondary-900">
                {{asset_in_use|length}}
            </p>
            <!-- <p class="text-red-600 text-sm">-25%</p> -->
          </div>
        </div>
      </div>
      <!-- <button class="w-3 h-3 absolute right-6 top-6">
          <img src="/assets/icons/right-arrow.svg" alt="" class="rotate-45">
        </button> -->
    </div>
  </div>
  <div class="grid grid-cols-12 gap-4 mb-4">

    <div class="xl:col-span-5 md:col-span-6 col-span-12 bg-white p-6 rounded-md shadow-card">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-md font-semibold">
            {% trans "Asset Chart" %}
          </h3>

        </div>


        <div class="w-full max-w-xs mx-auto">
          <div class="relative">
            <canvas id="assetAvailableChart"></canvas>
          </div>
        </div>

    </div>
    <div class="xl:col-span-7 md:col-span-6 col-span-12 bg-white p-6 rounded-md shadow-card">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-md font-semibold">
            {% trans "Asset Requests To Approve" %}
          </h3>
          <!-- <button class="w-3 h-3">
            <img src="/assets/icons/right-arrow.svg" alt="" class="rotate-45">
          </button> -->
        </div>
        <div class="overflow-hidden overflow-x-auto">
            <div  id="dashboardAssetRequests"
            hx-get="{% url 'dashboard-asset-request-approve' %}" hx-trigger="load">
        </div>
        </div>

    </div>
    <div class="xl:col-span-5 md:col-span-6 col-span-12 bg-white p-6 rounded-md shadow-card">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-md font-semibold">
            {% trans "Assets In Use" %}
          </h3>

        </div>


        <div class="w-full p-3">
          <div class="relative">
            <canvas id="assetCategoryChart"></canvas>
          </div>
          <div id="assetCategoryLegend"></div>
        </div>

    </div>
    <div class="xl:col-span-7 md:col-span-6 col-span-12 bg-white p-6 rounded-md shadow-card">
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-md font-semibold">
            {% trans "Allocated Assets" %}
          </h3>
          <!-- <button class="w-3 h-3">
            <img src="/assets/icons/right-arrow.svg" alt="" class="rotate-45">
          </button> -->
        </div>
        <div class="overflow-hidden overflow-x-auto">
            <div  id="dashboardAssetAllocates"
            hx-get="{% url 'dashboard-allocated-asset' %}" hx-trigger="load">
        </div>
        </div>

    </div>

  </div>
</div>
<script src="{% static 'src/asset/dashboard.js' %}"></script>
  {% endblock %}
