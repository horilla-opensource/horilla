{% load i18n static %}

{% if request.user|task_crud_perm:instance or perms.project.view_task %}
    <a hx-get="{% url 'update-task' instance.id %}?project_task=true" hx-target='#genericModalBody'
        data-toggle="oh-modal-toggle" data-target="#genericModal" data-key=".oh-kanban__section"
        class="px-4 py-2 bg-primary-600 text-white rounded-md text-xs flex items-center justify-center gap-2 hover:bg-primary-800 transition duration-300">
        <img src="{% static 'horilla_theme/assets/img/icons/edit.svg' %}" alt="{% trans 'Edit' %}" width="13"
            class="filter brightness-0 invert" />
        {% trans "Edit" %}
    </a>
{% endif %}

<a hx-get="{% url 'task-timesheet' instance.id %}?employee_id={{request.user.employee_get.id}}"
    hx-target='#TaskTimesheetTarget' data-target="#TaskTimesheetModal" data-toggle="oh-modal-toggle"
    data-key=".oh-kanban__section"
    class="px-4 py-2 bg-white rounded-md text-xs flex items-center justify-center gap-2 border border-primary-500 hover:border-primary-600 transition duration-300">
    <img src="{% static 'horilla_theme/assets/img/icons/bar-chart.svg' %}" alt="{% trans 'Delete' %}" width="16"
        class="mt-[-1px]">
    {% trans "Time sheet" %}
</a>

{% if request.user|task_crud_perm:instance or perms.project.view_task %}
    <a href="{% url 'delete-task' instance.id %}?view={{request.GET.view }}"
        class="px-4 py-2 bg-white rounded-md text-xs flex items-center justify-center gap-2 border border-primary-500 hover:border-primary-600 transition duration-300"
        onclick="event.preventDefault();event.stopPropagation(); confirm(`{% trans 'Do you want to delete this task?' %}`)">
        <img src="{% static 'horilla_theme/assets/img/icons/trash.svg' %}" alt="{% trans 'Delete' %}" width="16"
            class="mt-[-1px]">
        {% trans "Delete" %}
    </a>
{% endif %}