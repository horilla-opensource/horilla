{% load i18n basefilters %}

<div class="oh-btn-group" >
{% if perms.attendance.change_attendance or perms.attendance.delete_attendance or request.user|is_reportingmanager %}
    <a
        class="oh-btn oh-btn-group oh-btn--info"
        hx-get="{% url 'attendance-update' instance.id %}"
        onclick="event.stopPropagation()"
        hx-target="#genericModalBody"
        hx-swap="innerHTML"
        data-toggle="oh-modal-toggle"
        data-target="#genericModal"
    >
        <ion-icon name="create-outline"></ion-icon>
        {% trans 'Edit' %}
    </a>

    <a
        href='{% url "validate-this-attendance" instance.id %}'
        hx-target="#updateAttendanceBody"
        data-req="/attendance/request-attendance-view/?id={{instance.id}}"
        onclick="event.stopPropagation(); {% if instance.is_validate_request %}  event.preventDefault(); showApproveAlert($(this).data('req')); {% endif %}"
        class="oh-btn oh-btn--success"
    >
        <ion-icon name="checkmark-done-outline"></ion-icon>
        {% trans 'Validate' %}
    </a>

    <form
        action="{% url 'attendance-delete' instance.id %}"
        onclick="event.stopPropagation()"
        onsubmit="return confirm(`{% trans 'Are you sure want to delete this attendance?' %}`)"
        hx-target="#tab_contents"
        method="post"
        class="oh-btn oh-btn-group oh-btn--danger cursor-pointer"
    >
        {% csrf_token %}
        <button
            type="submit"
        >
            <ion-icon name="trash-outline"></ion-icon>
            {% trans 'Delete' %}
        </button>
    </form>
{% endif %}
</div>
