{% load basefilters i18n static %}

{% if perms.base.change_rotatingworktypeassign or request.user|is_reportingmanager %}
    <a class="w-24 px-4 py-2 bg-primary-600 text-white rounded-md text-xs flex items-center justify-center gap-2 hover:bg-primary-800 transition duration-300"
        data-toggle="oh-modal-toggle" data-target="#genericModal"
        hx-get="{% url 'rotating-work-type-assign-update' instance.id %}" hx-target="#genericModalBody">
        <img src="{% static 'horilla_theme/assets/img/icons/edit.svg' %}" alt="{% trans 'Edit' %}" width="13"
            class="filter brightness-0 invert" />
        {% trans "Edit" %}
    </a>

    <a class="w-24 px-4 py-2 bg-white rounded-md text-xs flex items-center justify-center gap-2 border border-primary-500 hover:border-primary-600 transition duration-300"
        hx-confirm="
                    {% if instance.is_active %}
                        {% trans 'Do you want to archive this rotating work type assign?' %}
                    {% else %}
                        {% trans 'Do you want to Un-archive this rotating work type assign?' %}
                    {% endif %}
                " hx-get="{% url 'rotating-work-type-assign-archive' instance.id %}?instances_ids={{instance.ordered_ids}}"
        hx-target="#genericModalBody">
        <img src="{% static 'horilla_theme/assets/img/icons/archive.svg' %}" alt="{% trans 'Delete' %}" width="16"
            class="mt-[-1px]">
        {% if instance.is_active %}
            {% trans "Archive" %}
        {% else %}
            {% trans "Un-archive" %}
        {% endif %}
    </a>
{% endif %}

{% if perms.base.delete_rotatingshiftassign or request.user|is_reportingmanager %}
    <a class="w-24 px-4 py-2 bg-white rounded-md text-xs flex items-center justify-center gap-2 border border-primary-500 hover:border-primary-600 transition duration-300"
        hx-confirm="{% trans 'Are you sure you want to delete this rotating work type assign?' %}"
        hx-post="{% url 'rotating-work-type-assign-delete' instance.id %}?instances_ids={{instance.ordered_ids}}"
        hx-target="#genericModalBody">
        <img src="{% static 'horilla_theme/assets/img/icons/trash.svg' %}" alt="{% trans 'Delete' %}" width="16"
            class="mt-[-1px]">
        {% trans "Delete" %}
    </a>
{% endif %}

{% if request.GET.deleted %}
    <script>
        $("#reloadMessagesButton").click();
    </script>
{% endif %}
