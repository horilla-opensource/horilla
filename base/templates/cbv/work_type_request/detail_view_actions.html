{% load basefilters %}
{% load static i18n %}
<!-- Start of edit button  -->
{% if instance.approved == False and not instance.canceled %}
    <button hx-get="{% url 'work-type-request-update' instance.id %}" hx-target='#genericModalBody'
        data-toggle="oh-modal-toggle" data-target='#genericModal'
        class="w-24 justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-xs flex items-center gap-2 hover:bg-primary-800 transition duration-300">
        <img src="{% static 'horilla_theme/assets/img/icons/edit.svg' %}" alt="{% trans 'Edit' %}" width="13"
            class="filter brightness-0 invert">
        {% trans 'Edit' %}
    </button>
{% else %}
    <button disabled
        class="w-24 justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-xs flex items-center gap-2 hover:bg-primary-800 transition duration-300 disabled:cursor-not-allowed">
        <img src="{% static 'horilla_theme/assets/img/icons/edit.svg' %}" alt="{% trans 'Edit' %}" width="13"
            class="filter brightness-0 invert">
        {% trans 'Edit' %}
    </button>
{% endif %}
<!-- End of edit button  -->

<!-- Start of delete button  -->
{% if instance.approved == False and instance.canceled == False %}
    <form hx-confirm="{% trans 'Are you sure you want to delete this work type request?' %}"
        hx-post="{% url 'work-type-request-delete' instance.id  %}?instances_ids={{ request.GET.instance_ids }}"
        hx-target="#genericModalBody" style="width: 50%">
        {% csrf_token %}
        <button data-action="delete" type='submit'
            class="w-24 justify-center px-4 py-2 bg-[white] rounded-md text-xs flex items-center gap-2  border border-primary-500 hover:border-primary-600 transition duration-300">
            <img src="{% static 'horilla_theme/assets/img/icons/trash.svg' %}" alt="{% trans 'Delete' %}" width="16" class="mt-[-1px]">
            {% trans "Delete" %}
        </button>
    </form>
{% else %}
    <button disabled
        class="w-24 justify-center px-4 py-2 bg-[white] rounded-md text-xs flex items-center gap-2  border border-primary-500 hover:border-primary-600 transition duration-300 disabled:cursor-not-allowed">
        <img src="{% static 'horilla_theme/assets/img/icons/trash.svg' %}" alt="{% trans 'Delete' %}" width="16" class="mt-[-1px]">
        {% trans "Delete" %}
    </button>
{% endif %}
<!-- End of delete button  -->

{% if request.GET.deleted %}
<script>
    $("#reloadMessagesButton").click()
    $(".reload-record").click()
</script>
{% endif %}
