{% extends 'index.html' %} {% load i18n static basefilters horillafilters accessibility_filters %} {% block content %}
<style>
	.resign-status {
		background: #73bbe12b;
		font-size: 0.8rem;
		padding: 4px 8px;
		border-radius: 10px;
		margin-bottom: 6px;
		font-weight: 600;
		color: #357579;
		}
	  .enlarge-image-container {
		display: none;
		position: fixed;
		top: 40%;
		left: 40%;
		transform: translate(-50%, -50%);
		width: 30%;
		height: 50%;
		z-index: 9999;
	  }
	  .enlarge-image-container img{
		max-width: 100%;
		height: auto;
		border-radius: 5%;
	  }
	  .oh-sticky-table{
		max-height:50vh;
	  }
		.oh-modal_close--custom {
		  border: none;
		  background: none;
		  font-size: 1.5rem;
		  opacity: 0.7;
		  position: absolute;
		  top: 25px;
		  right: 15px;
		}
	  .oh-tabs__tablist .oh-tabs__tab--active:nth-last-child(2) {
		  border-right: 1px solid hsl(213deg,22%,84%);
	  }
	  .custom-dialog {
		  max-width:1000px;
		  max-height: 800px;
	  }
	  .file-validation {
		  color: #4f5bd9;
		  background-color: #d8e7f0;
		  border-color: #d6e9c6;
		  padding: 15px;
		  border: 1px solid transparent;
		  border-radius: 4px;

	  }
	  .oh-not-found {
		  display: flex;
		  justify-content: center;
		  align-items: center;
		  flex-direction: column;
		  height: 50vh;
		  opacity: 0.5;
	  }
	  .editable-input:read-only {
		  color: hsl(0,0%,11%);
		  background-color: transparent;
		  border: none;
		  height: 100%;
		  border: 1px solid transparent;
	  }
	  .editable-input:read-only:hover {
		  border: 1px solid hsl(213,22%,84%);
	  }	.file-upload {
			margin-top: 6px !important;
			width: 34px !important;
			height: 34px !important;
			font-size: 1.75rem !important;
		}
		body {
			background-color: #f9f9f9 !important;
		}
		.draft--dot {
			background-color: grey;
		}
		.review_ongoing--dot {
			background-color: orange;
		}
		.confirmed--dot {
			background-color: rgb(103, 171, 238);
		}
		.paid--dot {
			background-color: green;
		}
		.status-draft {
			border-left: 3.4px solid grey !important; border-radius: 4px 0 0 4px;
		}
		.status-review_ongoing {
			border-left: 3.4px solid orange !important;
			border-radius: 4px 0 0 4px;
		}
		.status-confirmed {
			border-left: 3.4px solid rgb(103, 171, 238) !important;
			border-radius: 4px 0 0 4px;
		}
		.status-paid {
			border-left: 3.4px solid green !important;
			border-radius: 4px 0 0 4px;
		}
		.sent-to-employee {
			background-color: yellowgreen;
			color: white;
		}
		.at_risk--dot {
			background-color: red;
		}
		.not_started--dot {
			background-color: grey;
		}
		.behind--dot {
			background-color: orange;
		}
		.closed--dot {
			background-color: rgb(103, 171, 238);
		}
		.on_track--dot {
			background-color: yellowgreen;
		}
		.status-At.Risk {
			border-left: 3.4px solid red !important;
			border-radius: 4px 0 0 4px;
		}
		.status-Not.Started {
			border-left: 3.4px solid grey !important;
			border-radius: 4px 0 0 4px;
		}
		.status-Behind {
			border-left: 3.4px solid orange !important;
			border-radius: 4px 0 0 4px; }
		.status-Closed {
			border-left: 3.4px solid rgb(103, 171, 238) !important;
			border-radius: 4px 0 0 4px;
		}
		.status-On.Track {
			border-left: 3.4px solid yellowgreen !important;
			border-radius: 4px 0 0 4px;
		}
		.status-rejected {
			border-left: 4px solid red !important;
			border-radius: 5px 0 0 4px;
		}
		.status-cancelled {
			border-left: 4px solid grey !important;
			border-radius: 5px 0 0 4px;
		}
		.status-requested {
			border-left: 4px solid orange !important;
			border-radius: 5px 0 0 4px;
		}
		.status-approved {
			border-left: 4px solid yellowgreen !important;
			border-radius: 5px 0 0 4px;
		}
		.validated-True{
			border-left: 3.4px solid yellowgreen !important;
			border-radius: 4px 0 0 4px;

		  }
		  .validated-False {

			border-left: 3.4px solid rgba(128, 128, 128, 0.482) !important;
			border-radius: 4px 0 0 4px;


		  }
		  .bulk-request--dot {

			background-color:rgb(31 122 220 / 48%);
		  }
		.diff-cell{
		  background: rgba(255, 166, 0, 0.158);
		}
		.validated--dot{
			background-color:yellowgreen;
		  }
		  .not-validated--dot{
			background-color:rgba(128, 128, 128, 0.482);
		  }
</style>

</style>
{% include "generic/components.html" %}
<div id="enlargeImageContainer"></div>

<div class="oh-wrapper"  hx-get="{% url 'employee-profile' request.user.employee_get.id  %}" hx-trigger="load">
</div>

<div class="oh-checkpoint-badge mb-2"
id="selectedInstances"
data-ids="[]"
data-clicked=""
style="display: none">
</div>
<div class="oh-checkpoint-badge mb-2"
id="shiftselectedInstancesIndividual"
data-ids="[]"
data-clicked=""
style="display: none">
</div>
<div class="oh-modal" id="TaskTimesheetModal" role="dialog" aria-labelledby="TaskTimesheetModal" aria-hidden="true">
    <div class="oh-modal__dialog" style="max-width:1350px" id="TaskTimesheetTarget"></div>

</div>

<div class="oh-modal" id="addTimesheetModal" role="dialog" aria-labelledby="addTimesheetModal" aria-hidden="true"
    style="z-index: 1022;">
    <div class="oh-modal__dialog" id="addTimesheetModalBody">

    </div>
</div>

<div class="oh-activity-sidebar"
id="activitySidebar"
style="z-index: 1000">
<div class="oh-activity-sidebar__body"
	id="commentContainer">
</div>
</div>

<div
    class="oh-modal"
    id="groupAssign"
    role="dialog"
    aria-labelledby="groupAssign"
    aria-hidden="true"
  >
    <div class="oh-modal__dialog" >
      <div class="oh-modal__dialog-header">
        <h2 class="oh-modal__dialog-title" id="editModal1ModalLabel">
          {% trans "Group Assign" %}
        </h2>
        <button class="oh-modal__close" aria-label="Close">
          <ion-icon name="close-outline"></ion-icon>
        </button>
      </div>
      <div class="oh-modal__dialog-body" id="groupAssignBody">

      </div>
    </div>
  </div>

<div class="oh-modal"
id="editValidateAttendanceRequest"
role="dialog"
aria-labelledby="editValidateAttendanceRequest"
aria-hidden="true">
<div class="oh-modal__dialog">
	<div class="oh-modal__dialog-header">
		<h2 class="oh-modal__dialog-title"
			id="addEmployeeModalLabel">
			{% trans "Validate Attendances Request" %}
		</h2>
		<button
			class="oh-modal_close--custom"
			onclick="event.stopPropagation(); var modalElement = this.closest('.oh-modal'); modalElement.classList.toggle('oh-modal--show');">
			<ion-icon name="close-outline"></ion-icon>
		</button>
	</div>
	<div class="oh-modal__dialog-body"
		id="editValidateAttendanceRequestModalBody">
	</div>
</div>
</div>


<div class="oh-modal"
id="addBonusModal"
role="dialog"
aria-hidden="true">
<div class="oh-modal__dialog"
	id="addBonusModalBody">
</div>
</div>


<div class="oh-modal"
id="rejectModal"
role="dialog"
aria-labelledby="rejectModal"
aria-hidden="true">
<div class="oh-modal__dialog">
	<div class="oh-modal__dialog-header">
		<h2 class="oh-modal__dialog-title"
			id="editModal1ModalLabel">
			{% trans "Rejection" %}
			<button
				class="oh-modal_close--custom"
				onclick="$('#rejectModal').removeClass('oh-modal--show');"
				aria-label="Close"
				style="margin-left:80%; border:none; background:none;">
				<ion-icon name="close-outline"></ion-icon>
			</button>
		</h2>
	</div>
	<div class="oh-modal__dialog-body"
		id="rejectForm">
	</div>
</div>
</div>



{% comment %} <div class="oh-wrapper">
<div class="oh-wrapper" id="profile-view">
	<div id="enlargeImageContainer"></div>
	<div class="oh-card mt-4 mb-5">
		{% if perms.employee.change_ownprofile or 'profile_edit'|feature_is_accessible:request %}
		<div class="d-flex flex-row-reverse">
			<a href="{% url 'edit-profile' %}" class="">
				<img
				src="{% static "/images/ui/edit_btn.png" %}"
				style="width: 25px; height: auto"
				title="{% trans 'Edit' %}"
				/>
			</a>
		</div>
		{% endif %}
		<div class="row">
			<div class="col-12 col-sm-12 col-md-12 col-lg-4">
				<div class="d-flex align-items-center">
					<div class="oh-profile oh-profile--lg me-3">
						<div class="oh-profile__avatar">
							<img
								src="{{employee.get_avatar}}"
								class="oh-profile-section__avatar"
								alt="Username"
								style="border-radius:10%"
								{% if employee.employee_profile %}
								onmouseover="
								enlargeImager(this)
								$('#enlargeImageContainer').addClass('enlarge-image-container');
								"
								onmouseout="
								hideEnlargeImager()
								$('#enlargeImageContainer').removeClass('enlarge-image-container');
								"
								{% endif %}
							/>
						</div>
						{% if "attendance"|app_installed %}
							{% if employee.check_online %}
								<span
									class="oh-profile__active-badge oh-profile__active-badge--secondary" style="background-color: yellowgreen;"
									title="{% trans 'Online' %}">
								</span>
							{% else %}
								<span
									class="oh-profile__active-badge oh-profile__active-badge--secondary" style="background-color: rgba(128, 128, 128, 0.482);"
									title="{% trans 'Offline' %}">
								</span>
							{% endif %}
						{% endif %}
					</div>
					<div class="oh-profile__info-container">
						<h1 class="oh-profile__info-name">{{employee}}</h1>
						<p class="oh-profile__info-designation">
						{{employee.job_position_id}}
						</p>
					</div>
				</div>
			</div>
			<div
				class="col-12 col-sm-12 col-md-12 col-lg-8 d-flex align-items-center"
			>
				<ul class="oh-profile__info-list">
					<li class="oh-profile__info-list-item">
						<span class="oh-profile__info-label">
							<ion-icon name="mail-outline"></ion-icon>
							<span>{% trans "Work Email" %}:</span>
						</span>
						<span class="oh-profile__info-value">{{employee.employee_work_info.email}}</span>

					</li>
					<li class="oh-profile__info-list-item">
						<span class="oh-profile__info-label">
							<ion-icon name="mail-outline"></ion-icon>
							<span>{% trans "Email" %}:</span>
						</span>
						<span class="oh-profile__info-value">{{employee.email}}</span>
					</li>
					<li class="oh-profile__info-list-item">
						<span class="oh-profile__info-label">
							<ion-icon name="call-outline"></ion-icon>
							<span>{% trans "Work Phone" %}:</span>
						</span>
						<span class="oh-profile__info-value">{{employee.employee_work_info.mobile}}</span>

					</li>
					<li class="oh-profile__info-list-item">
						<span class="oh-profile__info-label">
							<ion-icon name="call-outline"></ion-icon>
							<span>{% trans "Phone" %}:</span>
						</span>
						<span class="oh-profile__info-value">{{employee.phone}}</span>
					</li>
				</ul>
			</div>
		</div>

		<div class="oh-table_sticky--wrapper">
			<div class="oh-sticky-dropdown--header" style="border:none;">
				<div class="oh-dropdown" x-data="{open: false}">
				<button class="oh-sticky-dropdown_btn " @click="open = !open"><ion-icon name="ellipsis-vertical-sharp"
					role="img" class="md hydrated" aria-label="ellipsis vertical sharp"></ion-icon></button>
				<div class="oh-dropdown__menu oh-sticky-table_dropdown" x-show="open" @click.outside="open = false">
					<ul class="oh-dropdown__items" id="fieldContainerTable">
					</ul>
				</div>
				</div>
			</div>
			<div id="employee-tab-profile" data-table-name="employee_tab_profile">
				<div class="row">
					<div class="col-sm-12 col-md-12 col lg-12">
						<ul class="oh-general__tabs oh-general__tabs--border oh-general__tabs--profile oh-general__tabs--no-grow oh-profile-section__tab mt-5" >
							<li class="oh-general__tab">
								<a
									hx-get="{% url 'about-tab' employee.id %}"
									hx-target="#personal_target"
									class="oh-general__tab-link oh-general__tab-link--active"
									data-action="general-tab"
									role="button"
									data-target="#personal_target"
									>{% trans "About" %}</a
								>
							</li>

							<li data-cell-index="19" data-cell-title="{% trans 'Work type & Shift' %}" class="oh-general__tab">
								<a
								hx-get="{% url 'shift-tab' employee.id %}?profile=true"
								hx-target="#shift_target"
								data-action="general-tab"
								data-target="#shift_target"
								class="oh-general__tab-link pointer"
								role="button"
								>{% trans "Work Type & Shift" %}</a
								>
							</li>

							{% if "attendance"|app_installed %}
								<li data-cell-index="18" data-cell-title="{% trans 'Attendance' %}" class="oh-general__tab">
									<a
									hx-get="{% url 'profile-attendance-tab' %}"
									hx-target="#attendance_target"
									data-action="general-tab"
									data-target="#attendance_target"
									id="asset"
									class="oh-general__tab-link"
									role="button"
									>{% trans "Attendance" %}</a
									>
								</li>
							{% endif %}

							{% if "leave"|app_installed %}
                				{% if perms.leave.view_leaverequest or request.user|check_manager:employee or request.user == employee.employee_user_id %}
                				  <li data-cell-index="12" data-cell-title="{% trans 'Leave' %}" class="oh-general__tab">
                				    <a
                				    hx-get = "{% url 'leave-tab' employee.id %}"
                				    hx-target = "#leave"
                				    class="oh-general__tab-link"
                				    data-action="general-tab"
                				    data-target="#leave"
                				    role = "button"
                				    >{% trans "Leave" %}</a
                				    >
                				  </li>
                				{% endif %}
              				{% endif %}

							{% if "payroll"|app_installed %}
								<li data-cell-index="16" data-cell-title="{% trans 'Payroll' %}" class="oh-general__tab">
									<a
									href="#"
									class="oh-general__tab-link"
									data-action="general-tab"
									data-target="#payroll"
									>{% trans "Payroll" %}</a
									>
								</li>
							{% endif %}

							{% if "payroll"|app_installed %}
								<li data-cell-index="15" data-cell-title="{% trans 'Allowance & Deduction' %}" class="oh-general__tab">
									<a
									hx-get="{% url 'allowances-deductions-tab' employee.id %}"
									hx-target="#allowance_deduction"
									data-action="general-tab"
									data-target="#allowance_deduction"
									class="oh-general__tab-link"
									role="button"
									>{% trans "Allowance & Deduction" %}</a
									>
								</li>
							{% endif %}

							{% if "attendance"|app_installed %}
							<li data-cell-index="14" data-cell-title="{% trans "Penalty Account" %}" class="oh-general__tab">
								<a
								data-action="general-tab"
								data-target="#penaltyTarget"
								id="penalty"
								class="oh-general__tab-link"
								role="button"
								>{% trans "Penalty Account" %}</a
								>
							</li>
							{% endif %}

							{% if "asset"|app_installed %}
								<li data-cell-index="13" data-cell-title="{% trans 'Assets' %}" class="oh-general__tab">
									<a
									hx-get="{% url 'profile-asset-tab' employee.id %}"
									hx-target="#asset_target"
									data-action="general-tab"
									data-target="#asset_target"
									id="asset"
									class="oh-general__tab-link pointer"
									role="button"
									>{% trans "Assets" %}</a
									>
								</li>
							{% endif %}

							{% if "pms"|app_installed %}
							<li data-cell-index="12" data-cell-title="{% trans 'Performance' %}" class="oh-general__tab">
								<a
								hx-get="{% url 'performance-tab' employee.id %}"
								hx-target="#performance_target"
								data-action="general-tab"
								data-target="#performance_target"
								id="asset"
								class="oh-general__tab-link"
								role="button"
								>{% trans "Performance" %}</a
								>
							</li>
							{% endif %}

							<li data-cell-index="11" data-cell-title="{% trans 'Documents' %}" class="oh-general__tab">
								<a
								hx-get="{% url 'document-tab' employee.id %}?employee_view=true"
								hx-target="#document_target"
								data-action="general-tab"
								data-target="#document_target"
								class="oh-general__tab-link"
								role="button"
								>{% trans "Documents" %}</a
								>
							</li>

							{% if "payroll"|app_installed %}
							<li data-cell-index="10" data-cell-title="{% trans 'Bonus Points' %}" class="oh-general__tab">
								<a
								hx-get="{% url 'bonus-points-tab' employee.id %}"
								hx-target="#bonus_points_target"
								data-action="general-tab"
								data-target="#bonus_points_target"
								class="oh-general__tab-link"
								role="button"
								>{% trans "Bonus Points" %}</a
								>
							</li>
							{% endif %}

							{% if "recruitment"|app_installed %}
								<li data-cell-index="20" data-cell-title="{% trans "Interview" %}" class="oh-general__tab">
									<a
									href="#"
									class="oh-general__tab-link"
									hx-get= "{% url 'employee-interview-tab' %}"
									hx-target = "#interview"
									data-action="general-tab"
									data-target="#interview"
									>{% trans "Scheduled Interview" %}</a
									>
								</li>
							{% endif %}

							{% if "offboarding"|app_installed and enabled_resignation_request %}
							<li data-cell-index="09" data-cell-title="{% trans 'Resignation' %}" class="oh-general__tab">
								<a
								hx-get="{% url 'search-resignation-request' %}?employee_id={{employee.id}}"
								hx-target="#resignation_hx_target"
								data-action="general-tab"
								data-target="#resignation_target"
								class="oh-general__tab-link"
								role="button"
								>{% trans "Resignation" %}</a
								>
							</li>
							{% endif %}

						</ul>

						<div class="oh-general__tab-target oh-profile__info-tab mb-4" id="personal_target" > </div>

						{% if "attendance"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4" id="penaltyTarget">
								{% include 'tabs/penalty_account.html' %}
							</div>
						{% endif %}

						{% if "payroll"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="payroll">
								{% include 'tabs/payroll-tab.html' %}
							</div>
						{% endif %}

						{% if "recruitment"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="interview">
							</div>
						{% endif %}

						{% if "payroll"|app_installed %}
						<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="bonus_points_target">
							{% include "tabs/bonus_points.html" %}
						</div>
						{% endif %}

						<div class="oh-general__tab-target oh-profile__info-tab mt-3 mb-4 d-none" id="resignation_target">
							{% include "tabs/resignation.html" %}
							<div id="resignation_hx_target" class="mt-2"></div>
						</div>

						{% if "payroll"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="allowance_deduction"></div>
						{% endif %}

						<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="shift_target"></div>

						{% if "attendance"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="attendance_target"></div>
						{% endif %}


						<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="allowance_deduction"></div>

						{% if "asset"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="asset_target"></div>
						{% endif %}

						<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="document_target" ></div>

						{% if "pms"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="performance_target"></div>
						{% endif %}

						{% if "leave"|app_installed %}
							<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="leave">
								{% include 'tabs/leave-tab.html' %}
							</div>
						{% endif %}

						<div class="oh-general__tab-target oh-profile__info-tab mb-4 d-none" id="note_target">
						{% include 'tabs/note_tab.html' %}
						</div>

					</div>
				</div>
			</div>
		</div>

	</div>
</div> {% endcomment %}
<script src="{% static 'employee/search.js' %}"></script>
<script src="{% static 'basedOn.js' %}"></script>
<script>
	{% comment %} toggleColumns("employee-tab-profile","fieldContainerTable")
	if (!localStorage.getItem("employee_tab_profile")) {
		  $("#fieldContainerTable").find("[type=checkbox]").prop("checked",true).change()
	  } {% endcomment %}
	  $(document).ready(function () {
		var exists = $("#view-container").find(".oh-general__tab-link--active").length;
		if (!exists) {
			$("#view-container").find(".oh-general__tab-link")[0].click();
		}
	});

	toggleColumns("employee-tab", "fieldContainerTable");

	if (!localStorage.getItem("employee_tab")) {
		$("#fieldContainerTable").find("[type=checkbox]").prop("checked", true).change();
	}

	function handleFormSubmit() {
		$('#successMessage').show();
		setTimeout(function () {
			$('#successMessage').hide();
		}, 3000);
		return false; // Prevent the default form submission
	}

	function submitForm(elem) {
		$(elem).siblings('.add_more_submit').click();
	}

	function enlargeDoc(src, $element) {
		var enlargeDocContainer = $element.parents().closest("li").find("#enlargeDocContainer");
		enlargeDocContainer.empty();
		var style = 'width:100%; height:90%; box-shadow: 0 10px 10px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.2); background:white';
		var enlargedImage = $('<iframe>').attr({ src: src, style: style });
		var name = $('<span>').text(src.split('/').pop().replace(/_/g, ' '));
		enlargeDocContainer.append(enlargedImage);
		enlargeDocContainer.append(name);
		setTimeout(function () {
			enlargeDocContainer.show();
			const iframe = document.querySelector('iframe').contentWindow;
			var iframe_document = iframe.document;
			var iframe_image = iframe_document.getElementsByTagName('img')[0];
			$(iframe_image).attr('style', 'width:100%; height:100%;');
		}, 100);
	}

	function checkSelected(names, target, initial = false) {
		names = JSON.parse(`${names}`);
		$.each(names, function (indexInArray, valueOfElement) {
			if (!initial) {
				$(target).find(`[value=${valueOfElement}]`).prop("checked", true).change();
			} else {
				$(target).find(`[value=${valueOfElement}]`).prop("checked", true);
			}
		});
	}

	function updateBadge(element = false) {
		var panels = $(".panel");
		$.each(panels, function (indexInArray, valueOfElement) {
			var check = $(valueOfElement).find("[name=permissions]:checked").length;
			$(valueOfElement).prev().find(".oh-badge.permission-badge").html(check);
			$(valueOfElement).prev().find(".oh-badge.permission-badge").attr("title", check + " Permissions");
		});

		var permissionLine = $(".oh-sticky-table__tr");
		$.each(permissionLine, function (index, value) {
			var check = $(value).find("[name=permissions]:checked").length;
			if (check === 4) {
				$(value).find(".row-permission").prop("checked", true);
			}
		});

		var permissionApps = $(".oh-sticky-table__tbody");
		$.each(permissionApps, function (index, value) {
			var total_permission_count = $(value).find("[name=permissions]").length;
			var checked_permission_count = $(value).find("[name=permissions]:checked").length;
			if (checked_permission_count === total_permission_count) {
				$(this).siblings(".oh-sticky-table__thead").find(".row-permission__select-all").prop("checked", true);
			} else {
				$(this).siblings(".oh-sticky-table__thead").find(".row-permission__select-all").prop("checked", false);
			}
		});
	}

	function hideEnlargeDoc() {
		var enlargeDocContainer = $('.enlargeDocContainer');
		enlargeDocContainer.empty();
	}

	$(document).on('click', function (event) {
		if (!$(event.target).closest('#enlargeDocContainer').length) {
			hideEnlargeDoc();
		}
	});
	{% if "attendance"|app_installed %}

	function validateHours(url) {
		$.ajax({
			url: "{% url 'active-tab' %}",
			method: "GET",
			data: {
				path: "{% url 'attendances-tab-view' %}",
				target: `li[data-target="#attendances-tab1"]`
			},
			success: function(response) {
				window.location.href = url;
			},
			error: function(xhr, status, error) {
				console.error(error);
			}
		});
	}

	 function validateOTHours(url) {
		$.ajax({
			url: "{% url 'active-tab' %}",
			method: "GET",
			data: {
				path: "{% url 'attendances-tab-view' %}",
				target: `li[data-target="#attendances-tab2"]`
			},
			success: function(response) {
				window.location.href = url;
			},
			error: function(xhr, status, error) {
				console.error(error);
			}
		});
	}
	{% endif %}

	{% if request.GET.deleted %}
	$('#reloadMessagesButton').click();
	{% endif %}
</script>
{% endblock content %}
