{% load i18n %}
{% load static %}
{% load basefilters %}
{% is_manager_of request.user instance as can_manage %}

{% with can_change=perms.attendance.change_attendance can_delete=perms.attendance.delete_attendance %}
{% if can_change or can_delete  or can_manage %}
    {% if can_change or can_manage %}
    <a class="oh-btn oh-btn-group oh-btn--info" hx-get="{% url 'attendance-update' instance.id %}?dashboard={{dashboard}}"
        hx-target="{% if dashboard == 'true' %}#editModalForm {% else %}#genericModalBody{% endif %}" hx-swap='innerHTML'
        data-toggle='oh-modal-toggle'
        data-target="{% if dashboard == 'true' %}#editModal {% else %}#genericModal {% endif %}" style="width: 50%;">
        <button
            style="background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;">
            <ion-icon name="create-outline" role="img" class="md hydrated" aria-label="create outline"></ion-icon>{% trans "Edit" %}
        </button>
    </a>
    {% endif %}

    {% if can_delete or can_manage %}
    <form action="{% url 'attendance-delete' instance.id  %}" onsubmit="return confirm('{% trans "Are you sure want to delete this attendance?" %}')" hx-target="#tab_contents" method='post' style="width: 50%;"
        class="oh-btn oh-btn-group oh-btn--danger">
        {% csrf_token %}
        <button type="submit"
            style="background: none; color: inherit; border: none; padding: 0; font: inherit; cursor: pointer; outline: inherit;">
            <ion-icon name="trash-outline"></ion-icon>{% trans 'Delete' %}
        </button>
    </form>
    {% endif %}
{% endif %}
{% endwith %}
